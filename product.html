<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <title>Famms - Productos (con carrito)</title>
  <link rel="stylesheet" href="css/bootstrap.css" />
  <link rel="stylesheet" href="css/font-awesome.min.css" />
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/responsive.css" />

  <!-- Estilos del carrito (beige, limpio) -->
  <style>
    :root{
      --beige:#D8C3A5;
      --beige-dark:#CBB89D;
      --accent:#BC8F8F;
      --muted:#6b6b6b;
      --panel-w:360px;
    }

    /* Grid: m√≥vil 2 x fila, desktop 3 x fila (usa Bootstrap) */
    .product_section .box { position: relative; overflow: visible; background:#fff; border-radius:8px; padding:10px; margin-bottom:18px; box-shadow: 0 6px 18px rgba(0,0,0,.06); }
    .product_section .box .img-box { text-align:center; padding:8px 0; }
    .product_section .box .img-box img { max-width:100%; height:160px; object-fit:contain; display:block; margin:0 auto; }
    .product_section .detail-box { text-align:center; padding:8px 6px 0; }
    .product_section .detail-box h5 { margin:0 0 6px; font-size:15px; font-weight:600; color:#222; }
    .product_section .detail-box h6 { margin:0 0 8px; font-size:14px; color:var(--muted); }

    /* Add button in product card (full width, mobile friendly) */
    .btn-add {
      display:block;
      width:100%;
      padding:8px 10px;
      background:var(--beige);
      border:none;
      border-radius:8px;
      font-weight:700;
      cursor:pointer;
      transition: transform .12s ease, background .12s;
      color:#222;
      box-shadow: 0 8px 20px rgba(0,0,0,.08);
    }
    .btn-add:hover { background:var(--beige-dark); transform: translateY(-3px); }

    /* Floating cart */
    .floating-cart {
      position: fixed;
      right: 18px;
      bottom: 18px;
      width:56px;
      height:56px;
      border-radius:50%;
      background:var(--beige);
      display:flex;
      align-items:center;
      justify-content:center;
      box-shadow: 0 16px 36px rgba(0,0,0,.18);
      border:none;
      z-index:9999;
      cursor:pointer;
    }
    .floating-cart .badge {
      position:absolute;
      top:-6px;
      right:-6px;
      background:var(--accent);
      color:#fff;
      min-width:20px;
      height:20px;
      border-radius:999px;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:12px;
      padding:0 6px;
    }

    /* Off-canvas cart panel */
    #cartPanel {
      position: fixed;
      top:0;
      right:0;
      height:100vh;
      width:var(--panel-w);
      max-width:94%;
      background:#fff;
      box-shadow:-20px 0 40px rgba(0,0,0,.16);
      transform: translateX(110%);
      transition: transform .34s cubic-bezier(.2,.8,.2,1);
      z-index:9998;
      display:flex;
      flex-direction:column;
    }
    #cartPanel.open { transform: translateX(0); }

    /* Cart header */
    #cartPanel .cart-header {
      padding:14px;
      border-bottom:1px solid #eee;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:8px;
    }
    #cartPanel .cart-header h3 { margin:0; font-size:18px; color:#222; }
    #cartPanel .cart-close { background:transparent; border:none; font-size:20px; cursor:pointer; color:#666; }

    /* Cart items */
    #cartItems { padding:12px; overflow:auto; -webkit-overflow-scrolling: touch; flex:1; }
    .cart-item { display:flex; gap:10px; align-items:center; margin-bottom:12px; padding-bottom:10px; border-bottom:1px dashed #eee; }
    .cart-item img { width:64px; height:64px; object-fit:cover; border-radius:8px; flex-shrink:0; }
    .cart-item .meta { flex:1; min-width:0; }
    .cart-item .meta h4 { margin:0; font-size:14px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
    .cart-item .meta p { margin:6px 0 0; color:var(--muted); font-size:13px; }

    .cart-item .qty { display:flex; gap:6px; align-items:center; margin-left:6px; }
    .cart-item .qty button { min-width:30px; height:30px; border-radius:6px; border:1px solid #ddd; background:#fff; cursor:pointer; font-size:16px; }
    .cart-item .qty div { min-width:28px; text-align:center; }

    .cart-footer { padding:14px; border-top:1px solid #eee; }
    .cart-footer .total-row { display:flex; justify-content:space-between; align-items:center; margin-bottom:12px; font-weight:700; font-size:16px; }
    .cart-footer .checkout { width:100%; padding:12px; background:var(--beige); border:none; border-radius:8px; font-weight:700; cursor:pointer; }

    .cart-empty { padding:18px; color:#666; text-align:center; }

    /* small screens */
    @media (max-width:540px){
      :root { --panel-w: 92vw; }
      .product_section .box .img-box img { height:140px; }
      .btn-add { padding:10px; }
      .floating-cart { width:50px; height:50px; right:14px; bottom:14px; }
    }
  </style>
</head>
<body class="sub_page">

  <!-- header -->
  <div class="hero_area">
    <header class="header_section">
      <div class="container">
        <nav class="navbar navbar-expand-lg custom_nav-container ">
          <a class="navbar-brand" href="index.html"><img width="250" src="images/logo.png" alt="#" /></a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent">
            <span class=""> </span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav">
              <li class="nav-item"><a class="nav-link" href="index.html">Inicio</a></li>
<li class="nav-item dropdown">
  <a class="nav-link dropdown-toggle" href="#" id="pagesDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    PAGINAS
  </a>
  <div class="dropdown-menu" aria-labelledby="pagesDropdown">
    <a class="dropdown-item" href="about.html">SERVICIOS</a>
    <a class="dropdown-item" href="testimonial.html">TESTIMONIOS</a>
  </div>
</li>

              </li>
              <li class="nav-item active"><a class="nav-link" href="product.html">ProductOS</a></li>
              <li class="nav-item"><a class="nav-link" href="blog_list.html">nOSOTROS</a></li>
              <li class="nav-item"><a class="nav-link" href="contact.html">ContactO</a></li>
            </ul>
          </div>
        </nav>
      </div>
    </header>
  </div>

<style>
  #btnSubir {
    position: fixed;      /* siempre visible */
    bottom: 20px;         /* distancia desde abajo */
    left: 20px;          /* distancia desde la derecha */
    padding: 10px 15px;
    font-size: 18px;
    cursor: pointer;
    border: none;
    background-color: #333;
    color: white;
    border-radius: 5px;
  }

  #btnSubir:hover {
    background-color: #555;
  }
</style>



  <!-- inner head -->
  <section class="inner_page_head"><div class="container_fuild"><div class="row"><div class="col-md-12"><div class="full"><h3>Tienda</h3></div></div></div></div></section>

  <!-- product section -->
  <section class="product_section layout_padding">
    <div class="container">
      <div class="heading_container heading_center"><h2>Secci√≥n <span>de productos</span></h2></div>
      <div class="row">

        <!-- Here are the 36 products (col-6 for xs, col-md-4 for >=768) -->
        <!-- Each .box has data-price numeric (in COP units) for reliable parsing -->
        <!-- 1 -->
        <div class="col-6 col-md-4">
          <div class="box" data-price="14000">
            <div class="img-box"><img src="img/cat-6.png" alt="Aretes Psicolog√≠a"></div>
            <div class="detail-box"><h5>Pin Microscopio</h5><h6>$14.000</h6></div>
            <button class="btn-add">Agregar al Carrito</button>
          </div>
        </div>

        <!-- 2 -->
        <div class="col-6 col-md-4">
          <div class="box" data-price="16000">
            <div class="img-box"><img src="img/product-2.jpg" alt="Pin Muelita Psicolog√≠a"></div>
            <div class="detail-box"><h5>Pin Muelita</h5><h6>$16.000</h6></div>
            <button class="btn-add">Agregar al Carrito</button>
          </div>
        </div>

        <!-- 3 -->
        <div class="col-6 col-md-4">
          <div class="box" data-price="65000">
            <div class="img-box"><img src="img/product-3.jpg" alt="Memoria Cerebro 128GB"></div>
            <div class="detail-box"><h5>Memoria Cerebro 128GB</h5><h6>$65.000</h6></div>
            <button class="btn-add">Agregar al Carrito</button>
          </div>
        </div>

        <!-- 4 -->
        <div class="col-6 col-md-4">
          <div class="box" data-price="20000">
            <div class="img-box"><img src="img/product-4.png" alt="Pin Cardi√≥logo"></div>
            <div class="detail-box"><h5>Pin Cardi√≥logo</h5><h6>$20.000</h6></div>
            <button class="btn-add">Agregar al Carrito</button>
          </div>
        </div>

        <!-- 5 -->
        <div class="col-6 col-md-4">
          <div class="box" data-price="22000">
            <div class="img-box"><img src="img/product-5.jpg" alt="Pin Cerebro"></div>
            <div class="detail-box"><h5>Pin Cerebro</h5><h6>$22.000</h6></div>
            <button class="btn-add">Agregar al Carrito</button>
          </div>
        </div>

        <!-- 6 -->
        <div class="col-6 col-md-4">
          <div class="box" data-price="18000">
            <div class="img-box"><img src="img/product-6.jpg" alt="Pin Muela de Unicornio"></div>
            <div class="detail-box"><h5>Pin Muela de Unicornio</h5><h6>$18.000</h6></div>
            <button class="btn-add">Agregar al Carrito</button>
          </div>
        </div>

        <!-- 7 -->
        <div class="col-6 col-md-4">
          <div class="box" data-price="14000">
            <div class="img-box"><img src="img/product-7.jpg" alt="Pin Ojito"></div>
            <div class="detail-box"><h5>Pin Ojito</h5><h6>$14.000</h6></div>
            <button class="btn-add">Agregar al Carrito</button>
          </div>
        </div>

        <!-- 8 -->
        <div class="col-6 col-md-4">
          <div class="box" data-price="18000">
            <div class="img-box"><img src="img/product-8.jpg" alt="Pin Qu√≠mica"></div>
            <div class="detail-box"><h5>Pin Qu√≠mica</h5><h6>$18.000</h6></div>
            <button class="btn-add">Agregar al Carrito</button>
          </div>
        </div>

        <!-- 9 -->
        <div class="col-6 col-md-4">
          <div class="box" data-price="16800">
            <div class="img-box"><img src="img/product-1.png" alt="Pin Huellita"></div>
            <div class="detail-box"><h5>Pin Huellita</h5><h6>$16.800</h6></div>
            <button class="btn-add">Agregar al Carrito</button>
          </div>
        </div>

        <!-- 10 -->
        <div class="col-6 col-md-4">
          <div class="box" data-price="15000">
            <div class="img-box"><img src="img/WhatsApp Image 2025-06-18 at 10.55.57 AM.jpeg" alt="Pin PSI"></div>
            <div class="detail-box"><h5>Pin veterinaria</h5><h6>$15.000</h6></div>
            <button class="btn-add">Agregar al Carrito</button>
          </div>
        </div>

        <!-- 11 -->
        <div class="col-6 col-md-4">
          <div class="box" data-price="25000">
            <div class="img-box"><img src="img/WhatsApp Image 2025-06-18 at 10.55.57 AM (3).jpeg" alt="Pin Psicolog√≠a 2"></div>
            <div class="detail-box"><h5>Pin Psicolog√≠a</h5><h6>$25.000</h6></div>
            <button class="btn-add">Agregar al Carrito</button>
          </div>
        </div>

        <!-- 12 -->
        <div class="col-6 col-md-4">
          <div class="box" data-price="45000">
            <div class="img-box"><img src="img/cat-1.png" alt="Pin Mente"></div>
            <div class="detail-box"><h5>Pin Mente</h5><h6>$45.000</h6></div>
            <button class="btn-add">Agregar al Carrito</button>
          </div>
        </div>

        <!-- 13 -->
        <div class="col-6 col-md-4">
          <div class="box" data-price="18000">
            <div class="img-box"><img src="img/cat-5.png" alt="Pin De Jeringas"></div>
            <div class="detail-box"><h5>Pin De Jeringas</h5><h6>$18.000</h6></div>
            <button class="btn-add">Agregar al Carrito</button>
          </div>
        </div>

        <!-- 14 -->
        <div class="col-6 col-md-4">
          <div class="box" data-price="32000">
            <div class="img-box"><img src="images/1.png" alt="Aretes Psi"></div>
            <div class="detail-box"><h5>Libretas</h5><h6>$32.000</h6></div>
            <button class="btn-add">Agregar al Carrito</button>
          </div>
        </div>

        <!-- 15 -->
        <div class="col-6 col-md-4">
          <div class="box" data-price="18000">
            <div class="img-box"><img src="img/cat-3.jpg" alt="Pin Inyecci√≥n"></div>
            <div class="detail-box"><h5>Pin Inyecci√≥n</h5><h6>$18.000</h6></div>
            <button class="btn-add">Agregar al Carrito</button>
          </div>
        </div>

        <!-- 16 -->
        <div class="col-6 col-md-4">
          <div class="box" data-price="54000">
            <div class="img-box"><img src="img/cat-4.jpg" alt="Pin ADN"></div>
            <div class="detail-box"><h5>Pin ADN</h5><h6>$54.000</h6></div>
            <button class="btn-add">Agregar al Carrito</button>
          </div>
        </div>

        <!-- 17 -->
        <div class="col-6 col-md-4">
          <div class="box" data-price="32000">
            <div class="img-box"><img src="img/Untitled-1.png" alt="Llavero Qu√≠mica"></div>
            <div class="detail-box"><h5>Llavero Qu√≠mica</h5><h6>$32.000</h6></div>
            <button class="btn-add">Agregar al Carrito</button>
          </div>
        </div>

        <!-- 18 -->
        <div class="col-6 col-md-4">
          <div class="box" data-price="15500">
            <div class="img-box"><img src="img/WhatsApp Image 2025-06-18 at 10.55.58 AM (2).jpeg" alt="Taza de Caf√© Qu√≠mica"></div>
            <div class="detail-box"><h5>Taza de Caf√© Qu√≠mica</h5><h6>$15.500</h6></div>
            <button class="btn-add">Agregar al Carrito</button>
          </div>
        </div>

        <!-- 19 -->
        <div class="col-6 col-md-4">
          <div class="box" data-price="15000">
            <div class="img-box"><img src="img/WhatsApp Image 2025-06-18 at 10.55.59 AM.jpeg" alt="Microscopio"></div>
            <div class="detail-box"><h5>Microscopio</h5><h6>$15.000</h6></div>
            <button class="btn-add">Agregar al Carrito</button>
          </div>
        </div>

        <!-- 20 -->
        <div class="col-6 col-md-4">
          <div class="box" data-price="22000">
            <div class="img-box"><img src="img/WhatsApp Image 2025-06-18 at 10.56.00 AM (1).jpeg" alt="Pines Microscopio"></div>
            <div class="detail-box"><h5>Pines Microscopio</h5><h6>$22.000</h6></div>
            <button class="btn-add">Agregar al Carrito</button>
          </div>
        </div>

        <!-- 21 -->
        <div class="col-6 col-md-4">
          <div class="box" data-price="8000">
            <div class="img-box"><img src="img/WhatsApp Image 2025-06-18 at 10.56.00 AM (2).png" alt="Manilla Psicolog√≠a"></div>
            <div class="detail-box"><h5>Manilla Psicolog√≠a</h5><h6>$8.000</h6></div>
            <button class="btn-add">Agregar al Carrito</button>
          </div>
        </div>

        <!-- 22 -->
        <div class="col-6 col-md-4">
          <div class="box" data-price="34000">
            <div class="img-box"><img src="img/1.jpeg" alt="Pin Cerebro Metalico"></div>
            <div class="detail-box"><h5>Pin Cerebro Metalico</h5><h6>$34.000</h6></div>
            <button class="btn-add">Agregar al Carrito</button>
          </div>
        </div>

        <!-- 23 -->
        <div class="col-6 col-md-4">
          <div class="box" data-price="19000">
            <div class="img-box"><img src="img/2.jpeg" alt="Pin Lupa"></div>
            <div class="detail-box"><h5>Pin Lupa</h5><h6>$19.000</h6></div>
            <button class="btn-add">Agregar al Carrito</button>
          </div>
        </div>

        <!-- 24 -->
        <div class="col-6 col-md-4">
          <div class="box" data-price="25500">
            <div class="img-box"><img src="img/3.jpeg" alt="Salud"></div>
            <div class="detail-box"><h5>Salud</h5><h6>$25.500</h6></div>
            <button class="btn-add">Agregar al Carrito</button>
          </div>
        </div>

        <!-- 25 -->
        <div class="col-6 col-md-4">
          <div class="box" data-price="25000">
            <div class="img-box"><img src="img/4.jpeg" alt="Collar Psicolog√≠a"></div>
            <div class="detail-box"><h5>Collar Psicolog√≠a</h5><h6>$25.000</h6></div>
            <button class="btn-add">Agregar al Carrito</button>
          </div>
        </div>

        <!-- 26 -->
        <div class="col-6 col-md-4">
          <div class="box" data-price="45000">
            <div class="img-box"><img src="images/2.png" alt="Collar Simbolo Psicolog√≠a"></div>
            <div class="detail-box"><h5>Pin Negro</h5><h6>$45.000</h6></div>
            <button class="btn-add">Agregar al Carrito</button>
          </div>
        </div>

        <!-- 27 -->
        <div class="col-6 col-md-4">
          <div class="box" data-price="48000">
            <div class="img-box"><img src="img/6.jpeg" alt="Collares Psicolog√≠a"></div>
            <div class="detail-box"><h5>Collares Psicolog√≠a</h5><h6>$48.000</h6></div>
            <button class="btn-add">Agregar al Carrito</button>
          </div>
        </div>

        <!-- 28 -->
        <div class="col-6 col-md-4">
          <div class="box" data-price="16000">
            <div class="img-box"><img src="img/7.jpeg" alt="Aretes PSC"></div>
            <div class="detail-box"><h5>Aretes PSC</h5><h6>$16.000</h6></div>
            <button class="btn-add">Agregar al Carrito</button>
          </div>
        </div>

        <!-- 29 -->
        <div class="col-6 col-md-4">
          <div class="box" data-price="19000">
            <div class="img-box"><img src="img/8.jpeg" alt="Pin Micros"></div>
            <div class="detail-box"><h5>Pin Micros</h5><h6>$19.000</h6></div>
            <button class="btn-add">Agregar al Carrito</button>
          </div>
        </div>

        <!-- 30 -->
        <div class="col-6 col-md-4">
          <div class="box" data-price="19800">
            <div class="img-box"><img src="img/9.jpeg" alt="Pin Estructura ADN"></div>
            <div class="detail-box"><h5>Pin Estructura ADN</h5><h6>$19.800</h6></div>
            <button class="btn-add">Agregar al Carrito</button>
          </div>
        </div>

        <!-- 31 -->
        <div class="col-6 col-md-4">
          <div class="box" data-price="54000">
            <div class="img-box"><img src="img/10.jpeg" alt="Pin Jerin"></div>
            <div class="detail-box"><h5>Pin Azul</h5><h6>$54.000</h6></div>
            <button class="btn-add">Agregar al Carrito</button>
          </div>
        </div>

        <!-- 32 -->
        <div class="col-6 col-md-4">
          <div class="box" data-price="16000">
            <div class="img-box"><img src="img/11.jpeg" alt="Aretes De Psicolog√≠a"></div>
            <div class="detail-box"><h5>Aretes De Psicolog√≠a</h5><h6>$16.000</h6></div>
            <button class="btn-add">Agregar al Carrito</button>
          </div>
        </div>

        <!-- 33 -->
        <div class="col-6 col-md-4">
          <div class="box" data-price="28000">
            <div class="img-box"><img src="images/3.png" alt="Pin Del ADN"></div>
            <div class="detail-box"><h5>Pin Pato</h5><h6>$28.000</h6></div>
            <button class="btn-add">Agregar al Carrito</button>
          </div>
        </div>

        <!-- 34 -->
        <div class="col-6 col-md-4">
          <div class="box" data-price="37000">
            <div class="img-box"><img src="img/13.jpeg" alt="Pin De Cerebro"></div>
            <div class="detail-box"><h5>Pin De Cerebro</h5><h6>$37.000</h6></div>
            <button class="btn-add">Agregar al Carrito</button>
          </div>
        </div>

        <!-- 35 -->
        <div class="col-6 col-md-4">
          <div class="box" data-price="23500">
            <div class="img-box"><img src="img/14.jpeg" alt="Llavero Psicolog√≠a"></div>
            <div class="detail-box"><h5>Llavero Psicolog√≠a</h5><h6>$23.500</h6></div>
            <button class="btn-add">Agregar al Carrito</button>
          </div>
        </div>

        <!-- 36 -->
        <div class="col-6 col-md-4">
          <div class="box" data-price="25000">
            <div class="img-box"><img src="img/15.jpeg" alt="Pin Biolog√≠a"></div>
            <div class="detail-box"><h5>LLavero</h5><h6>$25.000</h6></div>
            <button class="btn-add">Agregar al Carrito</button>
          </div>
        </div>

        <!-- 37 -->
        <div class="col-6 col-md-4">
          <div class="box" data-price="25000">
            <div class="img-box"><img src="images/4.png" alt="Pin Biolog√≠a"></div>
            <div class="detail-box"><h5>Pin Serpiente</h5><h6>$22 .000</h6></div>
            <button class="btn-add">Agregar al Carrito</button>
          </div>
        </div>

        <!-- 38 -->
        <div class="col-6 col-md-4">
          <div class="box" data-price="25000">
            <div class="img-box"><img src="images/5.png" alt="Pin Biolog√≠a"></div>
            <div class="detail-box"><h5>Pin Diente Metal</h5><h6>$29.000</h6></div>
            <button class="btn-add">Agregar al Carrito</button>
          </div>
        </div>

        <!-- 39 -->
        <div class="col-6 col-md-4">
          <div class="box" data-price="25000">
            <div class="img-box"><img src="images/6.png" alt="Pin Biolog√≠a"></div>
            <div class="detail-box"><h5>Pin Sigmund Freud</h5><h6>$24.000</h6></div>
            <button class="btn-add">Agregar al Carrito</button>
          </div>
        </div>

      </div>

    </div>
  </section>

  <!-- CART OFFCANVAS -->
  <div id="cartPanel" aria-hidden="true">
    <div class="cart-header">
      <h3>Tu carrito</h3>
      <div style="display:flex;align-items:center;gap:8px">
        <button class="cart-clear" title="Vaciar carrito" style="background:transparent;border:none;cursor:pointer;color:#666">Vaciar</button>
        <button class="cart-close" aria-label="Cerrar carrito">&times;</button>
      </div>
    </div>
    <div id="cartItems" aria-live="polite"></div>
    <div class="cart-footer">
      <div class="total-row"><span>Total</span><span id="cartTotal">$0.00</span></div>
      <button class="checkout" id="checkoutBtn">Pagar</button>
    </div>
  </div>

  <!-- FLOATING CART BUTTON -->
  <button class="floating-cart" id="openCart" aria-label="Abrir carrito">
    <span style="font-size:20px">üõí</span>
    <span class="badge" id="cartCount" style="display:none">0</span>
  </button>
 <!-- BOT√ìN SUBIR -->
  <button id="btnSubir" onclick="window.scrollTo({ top: 0, behavior: 'smooth' });">‚Üë</button>

  <!-- footer -->
  <footer>
    <div class="container">
      <div class="row">
        <div class="col-md-4">
           <div class="full">
              <div class="logo_footer">
                <a href="#"><img width="210" src="images/logo.png" alt="#" /></a>
              </div>
              <div class="information_f">
                <p><strong>DIRECCCI√ìN:</strong>Calle 20 Numero 9-64 Barrio Los Alisos Sogamoso,Colombia</p>
                <p><strong>CELULAR:</strong>+57 317 0686592</p>
                <p><strong>CORREO ELECTRONICO:</strong> mcpsicologiaaccesorios@gmail.com</p>
              </div>
           </div>
        </div>
        <div class="col-md-8">
          <div class="row">
            <div class="col-md-7">
               <div class="row">
                  <div class="col-md-6">
                     <div class="widget_menu">
                        <h3>Menu</h3>
                        <ul>
 <li><a href="index.html">Inicio</a></li>
                           <li><a href="about.html">Servicios</a></li>
                           <li><a href="product.html">Productos</a></li>
                           <li><a href="testimonial.html">Testimonios</a></li>
                           <li><a href="blog_list.html">Nosotros</a></li>
                           <li><a href="contact.html">Contacto</a></li>
                        </ul>
                     </div>
                  </div>
                  <div class="col-md-6">
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <!-- scripts -->
  <script src="js/jquery-3.4.1.min.js"></script>
  <script src="js/popper.min.js"></script>
  <script src="js/bootstrap.js"></script>
  <script src="js/custom.js"></script>


<!-- JS del carrito (compatible m√≥vil/PC, toggle y cierre seguro) -->
<script>
(function(){
  const qs = s => document.querySelector(s);
  const qsa = s => Array.from(document.querySelectorAll(s));
  const storageKey = 'miniCart_v1_v2';

  const cartPanel = qs('#cartPanel');
  const openCartBtn = qs('#openCart');
  const cartCount = qs('#cartCount');
  const cartItemsEl = qs('#cartItems');
  const cartTotalEl = qs('#cartTotal');
  const cartCloseBtn = qs('.cart-close');
  const cartClearBtn = qs('.cart-clear');
  const checkoutBtn = qs('#checkoutBtn');

  // Load saved cart or empty
  let cart = JSON.parse(localStorage.getItem(storageKey) || '[]');

  // Attach add-to-cart buttons
  function attachAddButtons(){
    qsa('.btn-add').forEach(btn => {
      if (btn._hasListener) return;
      btn._hasListener = true;
      btn.addEventListener('click', ev => {
        ev.stopPropagation();
        const box = ev.currentTarget.closest('.box');
        if (!box) return;

        const priceAttr = box.getAttribute('data-price');
        const price = priceAttr ? Number(priceAttr) : (() => {
          const h6 = box.querySelector('.detail-box h6');
          return h6 ? Number((h6.innerText||'').replace(/[^0-9]/g,'')) || 0 : 0;
        })();

        const name = box.querySelector('.detail-box h5')?.innerText.trim() || 'Producto';
        const img = box.querySelector('.img-box img')?.getAttribute('src') || '';
        const id = (img || '') + '|' + name + '|' + price;

        addToCart({ id, name, price, img, qty:1 });

        try { btn.animate([{ transform:'scale(1)' },{ transform:'scale(1.06)' },{ transform:'scale(1)'}], { duration:180 }); } catch(e){}
      });
    });
  }

  function saveCart(){
    try { localStorage.setItem(storageKey, JSON.stringify(cart)); } catch(e) {}
    renderCart();
  }

  function addToCart(item){
    const found = cart.find(i => i.id === item.id);
    if (found) found.qty += item.qty;
    else cart.push(item);
    saveCart();
    openCart();
  }

  function removeFromCart(id){
    cart = cart.filter(i => i.id !== id);
    saveCart();
  }

  function changeQty(id, delta){
    const it = cart.find(i => i.id === id);
    if (!it) return;
    it.qty = Math.max(1, it.qty + delta);
    saveCart();
  }

  function formatPrice(n){
    return '$' + Number(n || 0).toLocaleString('en-US', {minimumFractionDigits:2, maximumFractionDigits:2});
  }

  function escapeHtml(s){ return s ? String(s).replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'})[m]) : ''; }

  function renderCart(){
    const totalItems = cart.reduce((s,i) => s + i.qty, 0);
    cartCount.style.display = totalItems > 0 ? 'flex' : 'none';
    cartCount.innerText = totalItems;

    cartItemsEl.innerHTML = '';
    if (!cart.length){
      cartItemsEl.innerHTML = '<div class="cart-empty">Tu carrito est√° vac√≠o.</div>';
      cartTotalEl.innerText = formatPrice(0);
      return;
    }

    let total = 0;
    cart.forEach(item => {
      total += (item.price || 0) * item.qty;
      const div = document.createElement('div');
      div.className = 'cart-item';
      div.innerHTML = `
        <img src="${escapeHtml(item.img)}" alt="${escapeHtml(item.name)}">
        <div class="meta">
          <h4 title="${escapeHtml(item.name)}">${escapeHtml(item.name)}</h4>
          <p>${formatPrice(item.price)} √ó ${item.qty} = <strong>${formatPrice(item.price * item.qty)}</strong></p>
        </div>
        <div class="qty">
          <button class="dec" data-id="${escapeHtml(item.id)}" aria-label="Disminuir">‚àí</button>
          <div>${item.qty}</div>
          <button class="inc" data-id="${escapeHtml(item.id)}" aria-label="Aumentar">+</button>
          <button class="rm" data-id="${escapeHtml(item.id)}" title="Eliminar" style="margin-left:8px;background:transparent;border:none;color:#c33;cursor:pointer;font-size:18px">‚úï</button>
        </div>
      `;
      cartItemsEl.appendChild(div);
    });

    cartTotalEl.innerText = formatPrice(total);

    qsa('.cart-item .inc').forEach(b => b.addEventListener('click', e => { e.stopPropagation(); changeQty(e.currentTarget.dataset.id, 1); }));
    qsa('.cart-item .dec').forEach(b => b.addEventListener('click', e => { e.stopPropagation(); changeQty(e.currentTarget.dataset.id, -1); }));
    qsa('.cart-item .rm').forEach(b => b.addEventListener('click', e => { e.stopPropagation(); removeFromCart(e.currentTarget.dataset.id); }));
  }

  function openCart(){ cartPanel.classList.add('open'); cartPanel.setAttribute('aria-hidden','false'); }
  function closeCart(){ cartPanel.classList.remove('open'); cartPanel.setAttribute('aria-hidden','true'); }

  function clickIsInsideCartOrToggle(e){
    if (typeof e.composedPath === 'function') {
      const path = e.composedPath();
      return path.includes(cartPanel) || path.includes(openCartBtn);
    } else {
      return cartPanel.contains(e.target) || openCartBtn.contains(e.target);
    }
  }

  document.addEventListener('DOMContentLoaded', () => {
    attachAddButtons();
    renderCart();

    // BOT√ìN FLOTANTE: toggle
    openCartBtn.addEventListener('click', (e) => {
      e.stopPropagation();
      cartPanel.classList.contains('open') ? closeCart() : openCart();
    });

    // Bot√≥n "√ó"
    cartCloseBtn.addEventListener('click', closeCart);

    // Vaciar carrito
    cartClearBtn.addEventListener('click', () => {
      if (confirm('Vaciar el carrito?')) { cart = []; saveCart(); }
    });

    // Checkout ‚Üí Enviar pedido por WhatsApp
checkoutBtn.addEventListener('click', () => {
  if (!cart.length) {
    alert('Tu carrito est√° vac√≠o.');
    return;
  }

  const phone = "573170686592"; // N√∫mero de WhatsApp del negocio

  // Construir mensaje con el detalle del pedido
  let mensaje = " *Nuevo pedido desde la tienda Mc Accesorios";
  let total = 0;

  cart.forEach((item, index) => {
    const subtotal = item.price * item.qty;
    total += subtotal;
    mensaje += `${index + 1}. *${item.name}*%0A   Cantidad: ${item.qty}%0A   Precio: $${item.price.toLocaleString('es-CO')}%0A   Subtotal: $${subtotal.toLocaleString('es-CO')}%0A%0A`;
  });

  mensaje += `*Total a pagar:* $${total.toLocaleString('es-CO')}%0A%0A`;
  mensaje += `*Direcci√≥n:* (escr√≠bela aqu√≠)%0Aüìû *Nombre y contacto:*%0A`;

  const url = `https://wa.me/${phone}?text=${mensaje}`;

  // Abrir WhatsApp en nueva pesta√±a
  window.open(url, "_blank");

  // Vaciar el carrito despu√©s de enviar
  cart = [];
  localStorage.removeItem(storageKey);
  renderCart();
  closeCart();
});


    // Cerrar al hacer click fuera
    document.addEventListener('click', (e) => {
      if (cartPanel.classList.contains('open') && !clickIsInsideCartOrToggle(e)) closeCart();
    }, { passive:true });

    // Cerrar con ESC
    document.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeCart(); });

    // Observer para productos din√°micos
    const productSection = document.querySelector('.product_section');
    if (productSection) {
      const observer = new MutationObserver(() => { attachAddButtons(); });
      observer.observe(productSection, { childList:true, subtree:true });
    }

    // Exponer para debugging
    window._miniCart = { cart, addToCart: (i)=>{ addToCart(i); }, saveCart, renderCart };
  });

})();
</script>


</body>
</html>